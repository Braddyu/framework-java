<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anguo.oy.db.mapper.OyqyInvitationcodeMapper">

 <!-- 配置内容信息 -->
	<resultMap id="oyqyInvitationcodeMap" type="com.anguo.oy.db.domain.OyqyInvitationcode" >
		
		 		<result property="id" column="id" />
		 		<result property="openid" column="openid" />
		 		<result property="nickname" column="nickname" />
		 		<result property="sex" column="sex" />
		 		<result property="headimgurl" column="headimgurl" />
		 		<result property="invitationcode" column="invitationcode" />
		 		<result property="playdate" column="playdate" />
		 		<result property="status" column="status" />
		 		<result property="operateUserId" column="operate_user_id" />
		 		<result property="operateDate" column="operate_date" />
		 		 <result property="realName" column="real_name" />
	</resultMap>

<!-- 分页查询 -->
<select id="getPageData" resultMap="oyqyInvitationcodeMap"
               parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
     select a.*,b.real_name from ${commonSchema}.oyqy_invitationcode a left join ${commonSchema}.common_sys_user b on a.operate_user_id=b.id 
     <trim prefix="where" prefixOverrides="and |or ">
             <if test="id != null and id != ''">
           and (a.id like concat('%',concat(#{id},'%')))
        </if>
             <if test="openid != null and openid != ''">
           and (a.openid like concat('%',concat(#{openid},'%')))
        </if>
             <if test="nickname != null and nickname != ''">
           and (a.nickname like concat('%',concat(#{nickname},'%')))
        </if>
             <if test="sex != null and sex != ''">
           and (a.sex like concat('%',concat(#{sex},'%')))
        </if>
             <if test="headimgurl != null and headimgurl != ''">
           and (a.headimgurl like concat('%',concat(#{headimgurl},'%')))
        </if>
             <if test="invitationcode != null and invitationcode != ''">
           and (a.invitationcode like concat('%',concat(#{invitationcode},'%')))
        </if>
             <if test="playdate != null and playdate != ''">
           and (a.playdate like concat('%',concat(#{playdate},'%')))
        </if>
             <if test="status != null and status != ''">
           and (a.status like concat('%',concat(#{status},'%')))
        </if>
             <if test="operateUserId != null and operateUserId != ''">
           and (a.operate_user_id like concat('%',concat(#{operateUserId},'%')))
        </if>
             <if test="operateDate != null and operateDate != ''">
           and (a.operate_date like concat('%',concat(#{operateDate},'%')))
        </if>
          </trim>
     order by id desc
</select>
	

<!-- 查询 -->
<select id="getAllData" resultMap="oyqyInvitationcodeMap"
               parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
     select a.*,b.real_name from ${commonSchema}.oyqy_invitationcode a left join ${commonSchema}.common_sys_user b on a.operate_user_id=b.id 
     <trim prefix="where" prefixOverrides="and |or ">
             <if test="id != null and id != ''">
           and (a.id like concat('%',concat(#{id},'%')))
        </if>
             <if test="openid != null and openid != ''">
           and (a.openid like concat('%',concat(#{openid},'%')))
        </if>
             <if test="nickname != null and nickname != ''">
           and (a.nickname like concat('%',concat(#{nickname},'%')))
        </if>
             <if test="sex != null and sex != ''">
           and (a.sex like concat('%',concat(#{sex},'%')))
        </if>
             <if test="headimgurl != null and headimgurl != ''">
           and (a.headimgurl like concat('%',concat(#{headimgurl},'%')))
        </if>
             <if test="invitationcode != null and invitationcode != ''">
           and (a.invitationcode like concat('%',concat(#{invitationcode},'%')))
        </if>
             <if test="playdate != null and playdate != ''">
           and (a.playdate like concat('%',concat(#{playdate},'%')))
        </if>
             <if test="status != null and status != ''">
           and (a.status like concat('%',concat(#{status},'%')))
        </if>
             <if test="operateUserId != null and operateUserId != ''">
           and (a.operate_user_id like concat('%',concat(#{operateUserId},'%')))
        </if>
             <if test="operateDate != null and operateDate != ''">
           and (a.operate_date like concat('%',concat(#{operateDate},'%')))
        </if>
          </trim>
     order by id desc
</select>

<!-- 读一条记录 -->
<select id="getData" resultMap="oyqyInvitationcodeMap" parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
    select * from  ${commonSchema}.oyqy_invitationcode
    where id = #{id}
</select>

<!-- 读一条记录根据openid -->
<select id="getDatabyOpenid" resultMap="oyqyInvitationcodeMap" parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
    select * from  ${commonSchema}.oyqy_invitationcode
    where openid = #{openid}
</select>


<!-- 插入记录  -->
<insert id="insertData" parameterType="com.anguo.oy.db.domain.OyqyInvitationcode" useGeneratedKeys="true" keyProperty="id">
	
	insert into  ${commonSchema}.oyqy_invitationcode
	<trim prefix="(" suffix=")" suffixOverrides=",">
		id,
		 		 		 		 		<if test="openid != null">
				openid,
	  	</if>
	  			 		 		<if test="nickname != null">
				nickname,
	  	</if>
	  			 		 		<if test="sex != null">
				sex,
	  	</if>
	  			 		 		<if test="headimgurl != null">
				headimgurl,
	  	</if>
	  			 		 		<if test="invitationcode != null">
				invitationcode,
	  	</if>
	  			 		 		<if test="playdate != null">
				playdate,
	  	</if>
	  			 		 		<if test="status != null">
				status,
	  	</if>
	  			 		 		<if test="operateUserId != null">
				operate_user_id,
	  	</if>
	  			 		 		<if test="operateDate != null">
				operate_date,
	  	</if>
	  			 	</trim>
	<trim prefix="values (" suffix=")" suffixOverrides=",">
#{id},
		
		<if test="openid != null">
#{openid},
</if>
				<if test="nickname != null">
#{nickname},
</if>
				<if test="sex != null">
#{sex},
</if>
				<if test="headimgurl != null">
#{headimgurl},
</if>
				<if test="invitationcode != null">
#{invitationcode},
</if>
				<if test="playdate != null">
#{playdate},
</if>
				<if test="status != null">
#{status},
</if>
				<if test="operateUserId != null">
#{operateUserId},
</if>
				<if test="operateDate != null">
#{operateDate},
</if>
					</trim>
</insert>

<!-- 修改  -->
<update id="updateData" parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
	update  ${commonSchema}.oyqy_invitationcode 
	<set>
										<if test="openid != null and openid != ''">
			openid=#{openid},
		</if>
								<if test="nickname != null and nickname != ''">
			nickname=#{nickname},
		</if>
								<if test="sex != null and sex != ''">
			sex=#{sex},
		</if>
								<if test="headimgurl != null and headimgurl != ''">
			headimgurl=#{headimgurl},
		</if>
								<if test="invitationcode != null and invitationcode != ''">
			invitationcode=#{invitationcode},
		</if>
								<if test="playdate != null and playdate != ''">
			playdate=#{playdate},
		</if>
								<if test="status != null and status != ''">
			status=#{status},
		</if>
								<if test="operateUserId != null and operateUserId != ''">
			operate_user_id=#{operateUserId},
		</if>
								<if test="operateDate != null and operateDate != ''">
			operate_date=#{operateDate},
		</if>
					</set>
	where id=#{id}
</update>

<!-- 删除 -->
<delete id="deleteData" parameterType="com.anguo.oy.db.domain.OyqyInvitationcode">
	delete from  ${commonSchema}.oyqy_invitationcode 
	where id=#{id}
</delete>

</mapper>