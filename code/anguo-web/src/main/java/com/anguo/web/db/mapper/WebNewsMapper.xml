<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anguo.web.db.mapper.WebNewsMapper">

 <!-- 配置内容信息 -->
	<resultMap id="webNewsMap" type="com.anguo.web.db.domain.WebNews" >
		
		 		<result property="id" column="id" />
		 		<result property="mainTitle" column="main_title" />
		 		<result property="subTitle" column="sub_title" />
		 		<result property="parentId" column="parent_id" />
		 		<result property="content" column="content" />
		 		<result property="isDisplayPreviewImg" column="is_display_preview_img" />
		 		<result property="previewImg" column="preview_img" />
		 		<result property="webNewsTypeId" column="web_news_type_id" />
		 		<result property="isRed" column="is_red" />
		 		<result property="hits" column="hits" />
		 		<result property="contentType" column="content_type" />
		 		<result property="status" column="status" />
		 		<result property="operateUserId" column="operate_user_id" />
		 		<result property="operateDate" column="operate_date" />
		 	</resultMap>



<!-- 查询 -->
<select id="getPageData" resultMap="webNewsMap"
               parameterType="com.anguo.web.db.domain.WebNews">
     select * from wenanguo.web_news 
     <trim prefix="where" prefixOverrides="and |or ">
             <if test="id != null and id != ''">
           and (id like concat(#{id},'%') or id like concat(#{id},'%'))
        </if>
             <if test="mainTitle != null and mainTitle != ''">
           and (main_title like concat(#{mainTitle},'%') or main_title like concat(#{mainTitle},'%'))
        </if>
             <if test="subTitle != null and subTitle != ''">
           and (sub_title like concat(#{subTitle},'%') or sub_title like concat(#{subTitle},'%'))
        </if>
             <if test="parentId != null and parentId != ''">
           and parent_id =#{parentId}
        </if>
             <if test="content != null and content != ''">
           and (content like concat(#{content},'%') or content like concat(#{content},'%'))
        </if>
             <if test="isDisplayPreviewImg != null and isDisplayPreviewImg != ''">
           and (is_display_preview_img like concat(#{isDisplayPreviewImg},'%') or is_display_preview_img like concat(#{isDisplayPreviewImg},'%'))
        </if>
             <if test="previewImg != null and previewImg != ''">
           and (preview_img like concat(#{previewImg},'%') or preview_img like concat(#{previewImg},'%'))
        </if>
             <if test="webNewsTypeId != null and webNewsTypeId != ''">
           and web_news_type_id =#{webNewsTypeId}
        </if>
             <if test="isRed != null and isRed != ''">
           and (is_red like concat(#{isRed},'%') or is_red like concat(#{isRed},'%'))
        </if>
             <if test="hits != null and hits != ''">
           and (hits like concat(#{hits},'%') or hits like concat(#{hits},'%'))
        </if>
             <if test="contentType != null and contentType != ''">
           and (content_type like concat(#{contentType},'%') or content_type like concat(#{contentType},'%'))
        </if>
             <if test="status != null and status != ''">
           and (status like concat(#{status},'%') or status like concat(#{status},'%'))
        </if>
             <if test="operateUserId != null and operateUserId != ''">
           and (operate_user_id like concat(#{operateUserId},'%') or operate_user_id like concat(#{operateUserId},'%'))
        </if>
             <if test="operateDate != null and operateDate != ''">
           and (operate_date like concat(#{operateDate},'%') or operate_date like concat(#{operateDate},'%'))
        </if>
          </trim>
     order by id desc
</select>



<!-- 查询 -->
<select id="getAllData" resultMap="webNewsMap"
               parameterType="com.anguo.web.db.domain.WebNews">
     select * from wenanguo.web_news 
     <trim prefix="where" prefixOverrides="and |or ">
             <if test="id != null and id != ''">
           and (id like concat(#{id},'%') or id like concat(#{id},'%'))
        </if>
             <if test="mainTitle != null and mainTitle != ''">
           and (main_title like concat(#{mainTitle},'%') or main_title like concat(#{mainTitle},'%'))
        </if>
             <if test="subTitle != null and subTitle != ''">
           and (sub_title like concat(#{subTitle},'%') or sub_title like concat(#{subTitle},'%'))
        </if>
             <if test="parentId != null and parentId != ''">
           and (parent_id like concat(#{parentId},'%') or parent_id like concat(#{parentId},'%'))
        </if>
             <if test="content != null and content != ''">
           and (content like concat(#{content},'%') or content like concat(#{content},'%'))
        </if>
             <if test="isDisplayPreviewImg != null and isDisplayPreviewImg != ''">
           and (is_display_preview_img like concat(#{isDisplayPreviewImg},'%') or is_display_preview_img like concat(#{isDisplayPreviewImg},'%'))
        </if>
             <if test="previewImg != null and previewImg != ''">
           and (preview_img like concat(#{previewImg},'%') or preview_img like concat(#{previewImg},'%'))
        </if>
             <if test="webNewsTypeId != null and webNewsTypeId != ''">
           and web_news_type_id =#{webNewsTypeId}
        </if>
             <if test="isRed != null and isRed != ''">
           and (is_red like concat(#{isRed},'%') or is_red like concat(#{isRed},'%'))
        </if>
             <if test="hits != null and hits != ''">
           and (hits like concat(#{hits},'%') or hits like concat(#{hits},'%'))
        </if>
             <if test="contentType != null and contentType != ''">
           and (content_type like concat(#{contentType},'%') or content_type like concat(#{contentType},'%'))
        </if>
             <if test="status != null and status != ''">
           and (status like concat(#{status},'%') or status like concat(#{status},'%'))
        </if>
             <if test="operateUserId != null and operateUserId != ''">
           and (operate_user_id like concat(#{operateUserId},'%') or operate_user_id like concat(#{operateUserId},'%'))
        </if>
             <if test="operateDate != null and operateDate != ''">
           and (operate_date like concat(#{operateDate},'%') or operate_date like concat(#{operateDate},'%'))
        </if>
          </trim>
     order by id desc
</select>

<!-- 读一条记录 -->
<select id="getData" resultMap="webNewsMap" parameterType="com.anguo.web.db.domain.WebNews">
    select * from  wenanguo.web_news
    where id = #{id}
</select>

<!-- 插入记录  -->
<insert id="insertData" parameterType="com.anguo.web.db.domain.WebNews" useGeneratedKeys="true" keyProperty="id">
	
	insert into  wenanguo.web_news
	<trim prefix="(" suffix=")" suffixOverrides=",">
		id,
		 		 		 		 		<if test="mainTitle != null">
				main_title,
	  	</if>
	  			 		 		<if test="subTitle != null">
				sub_title,
	  	</if>
	  			 		 		<if test="parentId != null">
				parent_id,
	  	</if>
	  			 		 		<if test="content != null">
				content,
	  	</if>
	  			 		 		<if test="isDisplayPreviewImg != null">
				is_display_preview_img,
	  	</if>
	  			 		 		<if test="previewImg != null">
				preview_img,
	  	</if>
	  			 		 		<if test="webNewsTypeId != null">
				web_news_type_id,
	  	</if>
	  			 		 		<if test="isRed != null">
				is_red,
	  	</if>
	  			 		 		<if test="hits != null">
				hits,
	  	</if>
	  			 		 		<if test="contentType != null">
				content_type,
	  	</if>
	  			 		 		<if test="status != null">
				status,
	  	</if>
	  			 		 		<if test="operateUserId != null">
				operate_user_id,
	  	</if>
	  			 		 		<if test="operateDate != null">
				operate_date,
	  	</if>
	  			 	</trim>
	<trim prefix="values (" suffix=")" suffixOverrides=",">
#{id},
		
		<if test="mainTitle != null">
#{mainTitle},
</if>
				<if test="subTitle != null">
#{subTitle},
</if>
				<if test="parentId != null">
#{parentId},
</if>
				<if test="content != null">
#{content},
</if>
				<if test="isDisplayPreviewImg != null">
#{isDisplayPreviewImg},
</if>
				<if test="previewImg != null">
#{previewImg},
</if>
				<if test="webNewsTypeId != null">
#{webNewsTypeId},
</if>
				<if test="isRed != null">
#{isRed},
</if>
				<if test="hits != null">
#{hits},
</if>
				<if test="contentType != null">
#{contentType},
</if>
				<if test="status != null">
#{status},
</if>
				<if test="operateUserId != null">
#{operateUserId},
</if>
				<if test="operateDate != null">
#{operateDate},
</if>
					</trim>
</insert>

<!-- 修改  -->
<update id="updateData" parameterType="com.anguo.web.db.domain.WebNews">
	update  wenanguo.web_news 
	<set>
										<if test="mainTitle != null and mainTitle != ''">
			main_title=#{mainTitle},
		</if>
								<if test="subTitle != null and subTitle != ''">
			sub_title=#{subTitle},
		</if>
								<if test="parentId != null and parentId != ''">
			parent_id=#{parentId},
		</if>
								<if test="content != null and content != ''">
			content=#{content},
		</if>
								<if test="isDisplayPreviewImg != null and isDisplayPreviewImg != ''">
			is_display_preview_img=#{isDisplayPreviewImg},
		</if>
								<if test="previewImg != null and previewImg != ''">
			preview_img=#{previewImg},
		</if>
								<if test="webNewsTypeId != null and webNewsTypeId != ''">
			web_news_type_id=#{webNewsTypeId},
		</if>
								<if test="isRed != null and isRed != ''">
			is_red=#{isRed},
		</if>
								<if test="hits != null and hits != ''">
			hits=#{hits},
		</if>
								<if test="contentType != null and contentType != ''">
			content_type=#{contentType},
		</if>
								<if test="status != null and status != ''">
			status=#{status},
		</if>
								<if test="operateUserId != null and operateUserId != ''">
			operate_user_id=#{operateUserId},
		</if>
								<if test="operateDate != null and operateDate != ''">
			operate_date=#{operateDate},
		</if>
					</set>
	where id=#{id}
</update>

<!-- 删除 -->
<delete id="deleteData" parameterType="com.anguo.web.db.domain.WebNews">
	delete from  wenanguo.web_news 
	where id=#{id}
</delete>

</mapper>